--
create user postgres superuser;
--
\c contrib_regression postgres
drop extension if exists pg_set_acl;
NOTICE:  extension "pg_set_acl" does not exist, skipping
--
create extension pg_set_acl;
--
select pgsa_grant('s','u');
ERROR:  Cannot find setting s
select pgsa_grant('work_mem','u');
ERROR:  Cannot find user u
--
create user test;
--
\c contrib_regression test
set work_mem='1GB';
ERROR:  pg_set_actl: permission denied for (work_mem,test)
--
\c contrib_regression postgres 
select pgsa_grant('work_mem','test');
 pgsa_grant 
------------
 t
(1 row)

select * from pg_set_acl;
 privilege | parameter_name | user_name 
-----------+----------------+-----------
 SET       | work_mem       | test
(1 row)

--
\c contrib_regression test
set work_mem='1GB';
show work_mem;
 work_mem 
----------
 1GB
(1 row)

--
\c contrib_regression postgres
select pgsa_revoke('work_mem','test');
 pgsa_revoke 
-------------
 t
(1 row)

--
\c contrib_regression test
set work_mem='1GB';
ERROR:  pg_set_actl: permission denied for (work_mem,test)
--
\c contrib_regression postgres
drop extension pg_set_acl;
--
